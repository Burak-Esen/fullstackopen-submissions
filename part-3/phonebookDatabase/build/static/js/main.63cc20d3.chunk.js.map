{"version":3,"sources":["services/peopleService.js","Components/PersonForm.js","Components/Filter.js","Components/Persons.js","Components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","newPerson","post","id","newObject","put","delete","PersonForm","props","onSubmit","event","preventDefault","persons","every","person","name","newName","personObj","number","newNumber","length","peopleService","setPersons","concat","setNewName","setNewNumber","notif","window","confirm","find","a","catch","onChange","target","value","type","Filter","setFilt","toLowerCase","Persons","console","log","delHandler","e","getAttribute","people","filter","p","delFromState","delFromDb","includes","filt","map","key","onClick","val","Notification","notificationMessage","className","isError","App","useState","setNotificationMessage","setIsError","msg","setTimeout","useEffect","then","response","data","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.63cc20d3.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/people'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newPerson =>{\r\n  return axios.post(baseUrl, newPerson)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = id =>{\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\nexport default { getAll, create, update, del }","import React from 'react'\r\nimport peopleService from '../services/peopleService'\r\n\r\nconst PersonForm = (props) => {\r\n  const addHandler = (event) => {\r\n    event.preventDefault()\r\n    if (props.persons.every(person => person.name !== props.newName)) {\r\n      let personObj = {}\r\n      personObj.name = props.newName\r\n      personObj.number = props.newNumber\r\n      personObj.id = props.persons.length + 1\r\n      peopleService.create(personObj)\r\n      props.setPersons(props.persons.concat(personObj))\r\n      props.setNewName(\"\")\r\n      props.setNewNumber(\"\")\r\n      props.notif(`${personObj.name} is created`)\r\n    } else {\r\n      if (window.confirm(`${props.newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        let person = props.persons.find(a => a.name === props.newName)\r\n        person.number = props.newNumber\r\n        peopleService.update(person.id, person).catch(()=>{\r\n          props.notif(`Information of ${person.name} has already been removed from server`, true)\r\n        })\r\n        props.setPersons(props.persons.concat([]))\r\n        props.notif(`${person.name} is updated`)\r\n      }\r\n      props.setNewName(\"\")\r\n      props.setNewNumber(\"\")\r\n    }\r\n  }\r\n  const newNameOnCh = (event) => {\r\n    props.setNewName(event.target.value)\r\n  }\r\n  const newNumberOnCh = (event) => {\r\n    props.setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={addHandler}>\r\n      <div>\r\n        name__: <input onChange={newNameOnCh} value={props.newName} />\r\n      </div>\r\n      <div>\r\n        number: <input onChange={newNumberOnCh} value={props.newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" >add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  const filterResultOnCh = event =>{\r\n    props.setFilt(event.target.value.toLowerCase())\r\n  }\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={filterResultOnCh}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\nimport peopleService from '../services/peopleService'\r\n\r\nconst Persons = (props) => {\r\n  console.log(props.persons)\r\n  const delFromState = (id) => {\r\n    const people = props.persons.filter(p=>p.id!==id)\r\n    props.setPersons(people)\r\n  }\r\n  const delFromDb = id => peopleService.del(id)\r\n  \r\n  const delHandler = e => {\r\n    const name = e.target.getAttribute(\"name\")\r\n    const id = e.target.getAttribute(\"val\")\r\n    console.log(id)\r\n    if (window.confirm(\"Delete \" + name + \" ?\")) {\r\n      delFromState(id)\r\n      delFromDb(id)\r\n      props.notif(`${name} is deleted`)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {props.persons.filter(person => person.name.toLowerCase().includes(props.filt)).map(person =>\r\n        <p key={person.name}>\r\n          <span >{person.name} {person.number}</span>\r\n          <button onClick={delHandler}  val={person.id} name={person.name}>delete</button>\r\n        </p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = (props) => {\r\n\r\n  if(props.notificationMessage===null){\r\n    return null\r\n  }\r\n  return (\r\n    <div className={props.isError ? \"notification notification--error\" : \"notification\"}>\r\n      {props.notificationMessage}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './Components/PersonForm'\r\nimport Filter from \"./Components/Filter\"\r\nimport Persons from \"./Components/Persons\"\r\nimport peopleService from './services/peopleService'\r\nimport Notification from './Components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filt , setFilt ] = useState('')\r\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\r\n  const [ isError, setIsError ]=useState(false)\r\n  const notif = (msg, isError=false) =>{\r\n    setNotificationMessage(msg)\r\n    setIsError(isError)\r\n    setTimeout(()=>setNotificationMessage(null),3000)\r\n    setTimeout(()=>setIsError(false),3000)\r\n  }\r\n  useEffect(()=>{\r\n    peopleService.getAll().then(response=>{\r\n    setPersons(response.data)\r\n    })\r\n  },[])\r\n  \r\n  \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter setFilt={setFilt}/>\r\n\r\n      <h2>add a new</h2>\r\n      <Notification notificationMessage={notificationMessage} isError={isError} />\r\n      <PersonForm \r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        newName={newName}\r\n        setNewName={setNewName}\r\n        newNumber={newNumber}\r\n        setNewNumber={setNewNumber}\r\n        notif={notif}/>\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        notif={notif}\r\n        filt={filt}/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\"\nimport './index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}